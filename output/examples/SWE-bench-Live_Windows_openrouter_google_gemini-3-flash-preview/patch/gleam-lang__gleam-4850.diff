diff --git a/compiler-core/src/requirement.rs b/compiler-core/src/requirement.rs
index 036ae08b6..869f8bc11 100644
--- a/compiler-core/src/requirement.rs
+++ b/compiler-core/src/requirement.rs
@@ -122,7 +122,7 @@ impl<'de> Visitor<'de> for RequirementVisitor {
     where
         E: de::Error,
     {
-        Ok(FromStr::from_str(value).expect("expected string"))
+        FromStr::from_str(value).map_err(de::Error::custom)
     }
 
     fn visit_map<M>(self, visitor: M) -> Result<Self::Value, M::Error>
@@ -165,4 +165,13 @@ mod tests {
             Requirement::git("https://github.com/gleam-lang/otp.git", "4d34935")
         );
     }
+
+    #[test]
+    fn read_requirement_error() {
+        let toml = r#"
+            runtime = "node"
+        "#;
+        let result: Result<HashMap<String, Requirement>, toml::de::Error> = toml::from_str(toml);
+        assert!(result.is_err());
+    }
 }
